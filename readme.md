Graph

Программа для построения графиков математических функций в терминале с использованием алгоритма Дейкстры (Shunting Yard) для вычисления выражений.

Содержание

1. [Описание](#описание)
2. [Компиляция и запуск](#компиляция-и-запуск)
3. [Структура программы](#структура-программы)
4. [Алгоритм работы](#алгоритм-работы)
5. [Поддерживаемые операции и функции](#поддерживаемые-операции-и-функции)
6. [Детальное описание функций](#детальное-описание-функций)
7. [Обработка ошибок](#обработка-ошибок)
8. [Примеры использования](#примеры-использования)

Описание

Программа `graph` принимает математическое выражение в виде строки и строит его график в терминале. График отображается в виде символов '*' для линии графика и '.' для фона. Размер поля для вывода графика составляет 25 строк на 80 столбцов.

Основные характеристики:
- Область определения: [0; 4π]
- Область значений: [-1; 1]
- Ось ординат направлена вниз, ось абсцисс - вправо
- Центр координат находится в середине левой границы (точка {0, 12})

Компиляция и запуск

Компиляция

Для компиляции программы используйте Makefile:

make
=================================================================================================================================================================================================================================================

### Запуск

Для запуска программы передайте математическое выражение в качестве аргумента:

```shellscript
./build/graph "sin(cos(2*x))"
```

### Проверка на ошибки

Для проверки программы на утечки памяти и другие ошибки:

```shellscript
make check
```

Для проверки с использованием санитайзеров:

```shellscript
make sanitize
```

Для форматирования кода в соответствии с Google style:

```shellscript
make format
```

## Структура программы

Программа состоит из следующих основных компонентов:

1. **Лексический анализатор** (`Tokenize`): Разбирает входную строку на токены (числа, переменные, операторы, функции, скобки).
2. **Алгоритм Shunting Yard** (`ShuntingYard`): Преобразует выражение из инфиксной нотации в обратную польскую нотацию (RPN).
3. **Вычислитель RPN** (`EvaluateRPN`): Вычисляет значение выражения в RPN для заданного значения x.
4. **Построитель графика** (`PlotGraph`): Отображает график функции в терминале.
5. **Вспомогательные структуры данных**: Стек для алгоритма Shunting Yard и вычисления RPN.
6. **Собственные реализации математических функций**: Реализации sin, cos, tan, sqrt, log и других функций без использования стандартной библиотеки math.h.
7. **Собственные реализации строковых функций**: Реализации strlen, strcmp, strcpy и других функций без использования стандартной библиотеки string.h.


## Алгоритм работы

1. Программа принимает математическое выражение в виде строки.
2. Выражение разбивается на токены (числа, переменные, операторы, функции, скобки).
3. Токены преобразуются из инфиксной нотации в обратную польскую нотацию (RPN) с помощью алгоритма Shunting Yard.
4. Для каждой точки на оси X вычисляется значение функции с помощью RPN.
5. Значения функции отображаются на графике в терминале.


## Поддерживаемые операции и функции

### Операторы

- Сложение: `+`
- Вычитание: `-` (бинарный и унарный)
- Умножение: `*`
- Деление: `/`
- Скобки: `(` и `)`


### Функции

- Синус: `sin(x)`
- Косинус: `cos(x)`
- Тангенс: `tan(x)`
- Котангенс: `ctg(x)`
- Квадратный корень: `sqrt(x)`
- Натуральный логарифм: `ln(x)`


## Детальное описание функций

### Основные функции

- `main`: Точка входа в программу, обрабатывает аргументы командной строки.
- `PlotGraph`: Строит график функции в терминале.
- `Tokenize`: Разбивает строку выражения на токены.
- `ShuntingYard`: Преобразует инфиксную нотацию в обратную польскую нотацию.
- `EvaluateRPN`: Вычисляет значение выражения в обратной польской нотации.


### Математические функции

Все математические функции реализованы без использования стандартной библиотеки math.h:

- `MySin`, `MyCos`, `MyTan`: Тригонометрические функции, реализованные с помощью рядов Тейлора.
- `MySqrt`: Квадратный корень, реализованный с помощью метода Ньютона.
- `MyLog`: Натуральный логарифм, реализованный с помощью ряда Тейлора.
- `MyPow`: Возведение в степень для целых показателей.
- `MyFabs`: Абсолютное значение числа.
- `MyRound`: Округление числа до ближайшего целого.


### Строковые функции

Все строковые функции реализованы без использования стандартной библиотеки string.h:

- `MyStrlen`: Вычисление длины строки.
- `MyStrcmp`: Сравнение строк.
- `MyStrcpy`: Копирование строки.
- `MyAtof`: Преобразование строки в число с плавающей точкой.


### Вспомогательные функции

- `InitStack`, `IsEmpty`, `Push`, `Pop`, `Peek`, `FreeStack`: Функции для работы со стеком.
- `IsDigitOrDot`, `IsAlpha`: Функции для проверки символов.
- `GetPrecedence`, `IsRightAssociative`, `IsFunction`: Функции для работы с операторами и функциями.


## Обработка ошибок

Программа обрабатывает следующие ошибки:

- Неизвестные символы в выражении
- Неизвестные функции или переменные
- Несоответствие скобок
- Недостаточное количество операндов для операторов или функций
- Слишком много операндов в выражении
- Ошибки выделения памяти


## Примеры использования

### Пример 1: Синус

```shellscript
./build/graph "sin(x)"
```

### Пример 2: Сложная функция

```shellscript
./build/graph "sin(cos(2*x))"
```

### Пример 3: Комбинация функций

```shellscript
./build/graph "sin(x) + cos(x)/2"
```

### Пример 4: Квадратный корень

```shellscript
./build/graph "sqrt(sin(x)^2)"
```

Обратите внимание, что для корректной работы программы выражение должно быть заключено в кавычки, чтобы избежать интерпретации специальных символов оболочкой.
